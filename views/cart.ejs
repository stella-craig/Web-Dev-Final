<!doctype html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="media/logo.png" type="image/icon type">
    <title>shop with JIBS!!</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </head>
<body style="text-align:center; align-content:center">
    <nav style="background-color:#372160"class="navbar fixed-top navbar-dark">
        <a class="navbar-brand" href="#">
          <img style="margin-left: 20px" src="/media/jibs.png" width="70" alt="">
        </a>
        <a href="#"><span style="font-size: 2em; margin-right: 20px;" class="bi-cart"></span></a>
    </nav>
  <div style="margin-top: 4rem;"class="container gx-5 gy-5 px-4 d-flex justify-content-center">
    <h1 style="font-size: 4em;">CART</h1>
    
  </div>
  <br>
  <div class="container gx-5 gy-5 d-flex flex-wrap justify-content-center">
    <div class="row gx-5 gy-5">
  </div>
    </div>
<div id="containerthing" style="text-align:center;align-content:center;position:absolute;left:30%;width:40%;height:40%;top:20%;overflow-y:scroll;overflow-x:hidden;">


    
        
</div>


<div style="font-size:200%;position:absolute;top:60%;left:0%;width:100%;height:10%;">

____________________________________________________<br>
TOTAL: <span id="finalprice"></span>
</div>
</body>


<script>


var prevcart = localStorage.getItem("cart");
var cart = prevcart.split(",");
var price = 60;

for(i=0;i<cart.length;i++){
    //insert function to determine price
    if(cart[i]!=undefined && cart[i] != 0){
    document.getElementById("containerthing").innerHTML = document.getElementById("containerthing").innerHTML + '<div style="border:solid;border-color: rgba(255,255,255,.4); text-align:center;align-content:center;padding:10px;margin:10px;border-radius:10px;"><span class="price" style="font-size:100%;">' + price + '</span><br><span class="title" style="font-size:200%;">' + cart[i] + '</span><br><button style="margin:10px;background:rgba(0,0,0,0);border: none;border-bottom: solid; " onclick="removeitem(this)">Remove</button></div>'
    }
}


function removeitem(ele){
    cart.splice(cart.indexOf(ele.parentElement.querySelector(".title").innerHTML),1);
    localStorage.setItem("cart", cart);
    location.reload();
}


var totalprice = 0;

for(i=0;i<document.getElementsByClassName("price").length;i++){

    totalprice = totalprice + parseInt(document.getElementsByClassName("price")[i].innerHTML);
}

document.getElementById("finalprice").innerHTML = totalprice;




</script>